<!DOCTYPE >
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>js点击按钮文字随机点名器代码</title>
</head>
<body>

<div id="box">亲，准备好点名了吗？</div>
<button type="button" id="bt" onClick="doit(this)" date-time="3">开始点名</button>
<script src="jquery-1.10.1.min.js"></script>
<script src='name.js'></script>
<script type="text/javascript">
    //    var namelist = ["张三", "李四", "王五", "贺六", "孙九", "赵十", "刘一"];
    var mytime = null;
    function doit(i) {
        var t = $(i).attr("date-time");
        var bt = $("#bt");
        if (mytime == null) {
            bt.html("停止点名");
            show(t);
        } else {
            bt.html("开始点名");
            clearTimeout(mytime);
            mytime = null;
            selectedPerson(t)
        }
    }
    function show() {
        var box = $("#box");
        var num = Math.floor((Math.random() * 100000)) % namelist.length;
        box.html(namelist[num]);
        mytime = setTimeout("show()", 1);
    }
    function selectedPerson(t) {
        var box = $("#box");
        var name=[];
        for(var i =0;i<t;i++){
            var num = Math.floor((Math.random() * 100000)) % namelist.length;
            name.push(namelist[num]);
            namelist.splice(i, 1);
        }
        box.html(name);
        console.log(namelist);
        console.log(name);
    }

</script>
</body>
</html>